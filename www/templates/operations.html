<ion-view view-title="История операций">
    <ion-content>

        <div class="list content-list" on-swipe-down="onSwipeDown()">

            <div ng-repeat="operation in operations">


                <div class="item item-divider" ng-show="needShowGroup(operation, operations[$index - 1])">
                    {{getGroupTitle(operation)}}
                </div>

                <a class="item item-icon-left " href="#/app/operation/{{operation.id}}" ng-class="{'last':$last}">
                    <i class="icon circle {{operation.category.icon}}" style="background-color: {{operation.category.color}}"></i>
                    <div class="content-item one-line-item item-amount">
                        <h2><span>{{operation.description ||
                            (operation.shop && operation.shop.name) ||
                            operation.category.name}}</span></h2>

                        <i class="amount" ng-class="{'positive-value': operation.type == 'INCOME', 'negative-value': operation.type == 'OUTCOME'}">
                            {{operation.type == 'OUTCOME' ? '-' : ''}}{{operation.value}} {{operation.currency.type}}
                        </i>
                    </div>
                </a>


        </div>

    </ion-content>
</ion-view>
